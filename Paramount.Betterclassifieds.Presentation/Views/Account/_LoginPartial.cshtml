@model Paramount.Betterclassifieds.Presentation.ViewModels.LoginViewModel

<h2>Login</h2>
<p>Have an account? Login with your email and password</p>
<form role="form" method="POST" id="loginForm" action="@Url.Action("Login")">
    @Html.AntiForgeryToken()

    <div class="form-group">
        @Html.LabelFor(m => m.Username)
        @Html.TextBoxFor(m => m.Username, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Username)
        <span class="help-block">
            Existing users can use either email or username.
        </span>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Password)
        @Html.PasswordFor(m => m.Password, new { @class = "form-control", required = "" })
        @Html.ValidationMessageFor(m => m.Password)
    </div>
    <div class="checkbox">
        <label>
            @Html.CheckBoxFor(m => m.RememberMe) Remember Me
        </label>
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-default">Login</button>
    </div>
    <div class="form-group">
        <span class="help-block">
            Forgot password? <a href="#" data-toggle="modal" data-target="#passwordResetModal">Click here to recover.</a>
        </span>
    </div>
</form>

@*Login Modal*@
<div class="modal fade" id="passwordResetModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                Recover your password
            </div>
            <div class="modal-body">
                <div id="passwordReset" data-url="@Url.Action("ForgotPassword")">
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" class="form-control" id="EmailForRecovery"/>
                    </div>
                    <div class="alert alert-success" id="forgotPassword_Success">
                        A new password has been generated and sent to your email.
                    </div>
                    <div class="alert alert-danger" id="forgotPassword_Fail">
                        @*Set by javascript*@
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="btnSubmit" data-loading-text="please wait...">Send me a new one</button>
            </div>
        </div>
    </div>
</div>
