@using Paramount
@model Paramount.Betterclassifieds.Presentation.ViewModels.Booking.Step4View

@{
    ViewBag.Title = "Confirmation Step";
    Layout = @Url.ClientUrl("~/Views/Shared/_ApplicationLayout.cshtml");
}

<div class="container">
    <ul class="nav nav-tabs" role="tablist">
        <li>@Html.ActionLink("1", "Step1")</li>
        <li>@Html.ActionLink("2", "Step2")</li>
        <li>@Html.ActionLink("3", "Step3")</li>
        <li class="active"><a href="#">Step 4</a></li>
    </ul>

    <form id="confirmationForm" action="@Url.Action("Step4", "Booking")" method="POST" role="form">

        <div class="row top-buffer-20">
            <div class="col-xs-12">
                <div class="bs-callout bs-callout-info">
                    <h4>Confirmation</h4>
                    <p>Please verify your details below before submitting your booking.</p>
                </div>

                @Html.ValidationSummary()

                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h4 class="panel-title">Price and Schedule</h4>
                    </div>
                    <table class="table table-striped">
                        <tbody>
                            <tr>
                                <td><span class="glyphicon glyphicon-list"></span></td>
                                <td>Reference Number</td>
                                <td>@Model.Reference</td>
                            </tr>
                            <tr>
                                <td><span class="glyphicon glyphicon-usd"></span></td>
                                <td>Sub Total</td>
                                <td>$ @Model.TotalPrice.ToString("00.00")</td>
                            </tr>
                            <tr>
                                <td><span class="glyphicon glyphicon-calendar"></span></td>
                                <td>Start Date</td>
                                <td>@Model.StartDate.ToString("dd-MMM-yyyy")</td>
                            </tr>
                            <tr>
                                <td><span class="glyphicon glyphicon-calendar"></span></td>
                                <td>End Date</td>
                                <td>@Model.EndDate.ToString("dd-MMM-yyyy")</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="form-group">
                    <div class="form-control-checkbox">
                        <div class="checkbox">
                            <label>
                                @Html.CheckBoxFor(m => m.DetailsAreCorrect)
                                @Html.LabelFor(m => m.DetailsAreCorrect)
                            </label>
                        </div>
                    </div>

                    <div class="form-control-checkbox">
                        <div class="checkbox">
                            <label>
                                @Html.CheckBoxFor(m => m.AgreeToTerms)
                                @Html.LabelFor(m => m.AgreeToTerms)
                            </label>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        @*@if (Model.IsPaymentRequired)
        {
            <div class="row">
                <div class="col-xs-12">
                    <div class="bs-callout bs-callout-info">
                        <h4>Payment</h4>
                        <p>Select your choice of payment</p>
                    </div>

                    <input type="hidden" id="SelectedPaymentOption" name="SelectedPaymentOption" value="@Model.SelectedPaymentOption" />
                    <div class="btn-group btn-group-justified" data-toggle="buttons">
                        @foreach (var paymentOption in Model.PaymentOptions)
                        {
                            <label class="btn btn-default" data-maptohdnfield="SelectedPaymentOption">
                                <input type="radio"> @paymentOption
                            </label>
                        }
                    </div>
                </div>
            </div>
        }*@

        @*Pager*@
    <ul class="pager">
        <li class="previous">
            <button id="btnPrev" class="btn btn-large btn-default js-load" data-nav='@Url.Action("Step3")'>&larr; Previous</button>
        </li>
        <li class="next">
            <button id="btnSubmit" type="submit" class="btn btn-large btn-default">Submit &rarr;</button>
        </li>
    </ul>
    </form>
</div>

@section Scripts{
    <script>
        (function ($) {

            $(function() {
                //$('label.btn').on('click',function () {
                //    var me = $(this);
                //    $('#' + me.data().maptohdnfield).val(me.text().trim());
                //});
            });

        })(jQuery);
    </script>
}