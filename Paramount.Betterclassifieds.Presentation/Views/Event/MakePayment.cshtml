@model MakePaymentViewModel

@{
    ViewBag.Title = "Make Payment";
    Layout = "~/Views/Shared/_ApplicationLayout.cshtml";
}

@section Scripts
{
    <script>
        $(function () {
            $('#payWithPayPal').on('click', function() {
                var eventService = new $paramount.EventService();
                eventService.payWithPayPal();
            });
        })
    </script>
}

<div class="container">
    <div class="row top-buffer-40">
        <div class="col-xs-12 well well-lg">
            <h1>
                Checkout <i class="fa fa-shopping-cart"></i>
            </h1>

            <table class="table table-responsive">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Ticket</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>

                    @foreach (var t in Model.EventTickets)
                    {
                        <tr>
                            <td>@t.GuestFullName</td>
                            <td>@t.TicketName</td>
                            <td>@t.Price.GetValueOrDefault().ToString("C")</td>
                        </tr>
                    }
                </tbody>
            </table>

        </div>

        <div class="col-xs-8"></div>
        <div class="col-xs-4">

            <button type="submit" class="btn btn-info btn-lg js-load" id="payWithPayPal">
                PayPal <i class="fa fa-paypal"></i>
            </button>

            <form action="" method="POST">
                <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
                        data-key="pk_test_9lOtEgQezaX12MQN3EnHggB7"
                        data-amount="@Model.TotalCostCents"
                        data-name=""
                        data-description="Ticket Purchase"
                        data-locale="auto"
                        data-zip-code="false"
                        data-currency="aud">

                </script>
            </form>
        </div>
    </div>
</div>